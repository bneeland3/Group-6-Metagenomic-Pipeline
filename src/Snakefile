# Snakefile

rule all:
    input:
        expand("../doc/fastqc1_results/{sample}.denovo_duplicates_marked.trimmed.1_fastqc.html", sample=["SRS014466", "SRS023534"]),
        "../doc/fastqc1_results/multiqc_report.html"

rule fastqc:
    input:
        F="../doc/data/{sample}.denovo_duplicates_marked.trimmed.1.fastq",
        R="../doc/data/{sample}.denovo_duplicates_marked.trimmed.2.fastq"
    output:
        html="../doc/fastqc1_results/{sample}.denovo_duplicates_marked.trimmed.1_fastqc.html",
        zip="../doc/fastqc1_results/{sample}.denovo_duplicates_marked.trimmed.1_fastqc.zip"
    conda: "fastqc"
    shell:
        """
        mkdir -p ../doc/fastqc1_results
        fastqc {input.F} {input.R} --outdir ../doc/fastqc1_results/
        """

rule multiqc:
    input:
        html=expand("../doc/fastqc1_results/{sample}.denovo_duplicates_marked.trimmed.1_fastqc.html", sample=["SRS014466", "SRS023534"])
    output:
        html="../doc/fastqc1_results/multiqc_report.html",
        data=directory("../doc/fastqc1_results/multiqc_data")
    conda: "fastqc"
    shell:
        """
        cd ../doc/fastqc1_results
        multiqc .
        """
